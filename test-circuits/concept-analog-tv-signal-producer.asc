Version 4
SHEET 1 8040 2340
WIRE 4032 736 3984 736
WIRE 4208 736 4112 736
WIRE 4528 864 4448 864
WIRE 4592 864 4528 864
WIRE 4592 880 4592 864
WIRE 4640 880 4592 880
WIRE 3872 896 3712 896
WIRE 3984 896 3984 736
WIRE 3984 896 3952 896
WIRE 4064 896 3984 896
WIRE 4752 896 4704 896
WIRE 4816 896 4752 896
WIRE 4208 912 4208 736
WIRE 4208 912 4128 912
WIRE 4256 912 4208 912
WIRE 4352 912 4256 912
WIRE 4640 912 4608 912
WIRE 4944 912 4912 912
WIRE 5040 912 5024 912
WIRE 4064 928 4048 928
WIRE 4528 944 4528 928
WIRE 4592 944 4528 944
WIRE 4608 944 4608 912
WIRE 4608 944 4592 944
WIRE 5120 960 5120 944
WIRE 4448 992 4448 864
WIRE 4528 992 4528 944
WIRE 3872 1024 3712 1024
WIRE 4000 1024 3952 1024
WIRE 4048 1024 4048 928
WIRE 4048 1024 4000 1024
WIRE 4912 1024 4912 912
WIRE 4944 1024 4912 1024
WIRE 5040 1040 5040 912
WIRE 5040 1040 5008 1040
WIRE 5072 1040 5040 1040
WIRE 4000 1056 4000 1024
WIRE 4816 1056 4816 896
WIRE 4896 1056 4880 1056
WIRE 4944 1056 4896 1056
WIRE 5120 1104 5120 1056
WIRE 5200 1104 5120 1104
WIRE 5232 1104 5200 1104
WIRE 5120 1120 5120 1104
WIRE 3712 1136 3712 1024
WIRE 4352 1152 4352 912
WIRE 4528 1152 4528 1072
WIRE 4528 1152 4352 1152
WIRE 4096 1536 4048 1536
WIRE 4272 1536 4176 1536
WIRE 3536 1632 3440 1632
WIRE 3872 1632 3536 1632
WIRE 3440 1648 3440 1632
WIRE 4592 1664 4512 1664
WIRE 4656 1664 4592 1664
WIRE 4656 1680 4656 1664
WIRE 4704 1680 4656 1680
WIRE 3872 1696 3872 1632
WIRE 3936 1696 3872 1696
WIRE 4048 1696 4048 1536
WIRE 4048 1696 4016 1696
WIRE 4128 1696 4048 1696
WIRE 4816 1696 4768 1696
WIRE 4880 1696 4816 1696
WIRE 4272 1712 4272 1536
WIRE 4272 1712 4192 1712
WIRE 4320 1712 4272 1712
WIRE 4416 1712 4320 1712
WIRE 4704 1712 4672 1712
WIRE 5008 1712 4976 1712
WIRE 5104 1712 5088 1712
WIRE 4128 1728 4112 1728
WIRE 4592 1744 4592 1728
WIRE 4656 1744 4592 1744
WIRE 4672 1744 4672 1712
WIRE 4672 1744 4656 1744
WIRE 3824 1776 3776 1776
WIRE 3840 1776 3824 1776
WIRE 4512 1792 4512 1664
WIRE 4592 1792 4592 1744
WIRE 3776 1808 3776 1776
WIRE 4064 1824 4016 1824
WIRE 4112 1824 4112 1728
WIRE 4112 1824 4064 1824
WIRE 4976 1824 4976 1712
WIRE 5008 1824 4976 1824
WIRE 5104 1840 5104 1712
WIRE 5104 1840 5072 1840
WIRE 5344 1840 5104 1840
WIRE 4064 1856 4064 1824
WIRE 4880 1856 4880 1696
WIRE 4960 1856 4944 1856
WIRE 5008 1856 4960 1856
WIRE 3552 1904 3392 1904
WIRE 5424 1904 5424 1888
WIRE 3776 1936 3776 1888
WIRE 3936 1936 3936 1824
WIRE 3936 1936 3776 1936
WIRE 4416 1952 4416 1712
WIRE 4592 1952 4592 1872
WIRE 4592 1952 4416 1952
WIRE 5344 1984 5344 1840
WIRE 5376 1984 5344 1984
WIRE 5424 2048 5424 2000
WIRE 5504 2048 5424 2048
WIRE 5424 2064 5424 2048
WIRE 3392 2240 3392 2208
FLAG 4160 1680 VCC
FLAG 4160 1744 VEE
FLAG 2864 512 0
FLAG 2672 432 VCC
FLAG 2672 512 0
FLAG 2864 432 VEE
FLAG 4320 1712 vout_diff_h
FLAG 4064 1936 0
FLAG 3440 1728 0
FLAG 3392 1984 0
FLAG 4512 1872 0
FLAG 4736 1664 VCC
FLAG 4816 1696 zero_detect_h
FLAG 4736 1728 VEE
FLAG 5040 1808 VCC
FLAG 5040 1872 VEE
FLAG 4960 1936 0
FLAG 4976 1632 0
FLAG 5424 1888 VCC
FLAG 5424 2144 0
FLAG 3552 1904 H
FLAG 3536 1632 X
FLAG 5504 2048 draw_line_horizontal
FLAG 3712 1216 0
FLAG 4096 880 VCC
FLAG 4096 944 VEE
FLAG 4256 912 vout_diff_v
FLAG 4000 1136 0
FLAG 4448 1072 0
FLAG 4672 864 VCC
FLAG 4752 896 zero_detect_v
FLAG 4672 928 VEE
FLAG 5120 944 VCC
FLAG 5120 1200 0
FLAG 5200 1104 draw_line_vertical
FLAG 3712 976 0
FLAG 3728 1824 0
FLAG 3824 1776 H
FLAG 4976 1008 VCC
FLAG 4976 1072 VEE
FLAG 4896 1136 0
FLAG 4912 832 0
FLAG 3728 1872 zero_detect_v
FLAG 3392 2320 0
FLAG 3392 2208 Vsync
SYMBOL Opamps\\UniversalOpamp2 4160 1712 R0
SYMATTR InstName U2
SYMBOL voltage 2864 416 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value -5
SYMBOL voltage 2672 416 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL res 4192 1520 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 100k
SYMBOL res 4032 1680 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 100k
SYMBOL res 4032 1808 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 100k
SYMBOL res 4048 1840 R0
SYMATTR InstName R6
SYMATTR Value 100k
SYMBOL voltage 3440 1632 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V5
SYMATTR Value 2
SYMBOL voltage 3392 1888 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V6
SYMATTR Value PULSE(0 5 0 0.005 0 0 0.005)
SYMBOL Opamps\\UniversalOpamp2 4736 1696 R0
SYMATTR InstName U1
SYMBOL res 4576 1776 R0
SYMATTR InstName R1
SYMATTR Value 100k
SYMBOL res 4496 1776 R0
SYMATTR InstName R2
SYMATTR Value 100k
SYMBOL diode 4576 1664 R0
SYMATTR InstName D1
SYMATTR Value 1N914
SYMBOL diode 4672 1744 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value 1N914
SYMBOL Opamps\\UniversalOpamp2 5040 1840 R0
SYMATTR InstName U3
SYMBOL cap 4944 1840 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 500p
SYMBOL res 4944 1840 R0
SYMATTR InstName R7
SYMATTR Value 100k
SYMBOL res 5104 1696 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 100k
SYMBOL res 4992 1728 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R9
SYMATTR Value 100k
SYMBOL nmos 5376 1904 R0
SYMATTR InstName M1
SYMBOL res 5408 2048 R0
SYMATTR InstName R10
SYMATTR Value 100k
SYMBOL voltage 3712 1120 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value PWL(0 0 0.25 0.5 0.5 1.0 1.0 2.0)
SYMBOL Opamps\\UniversalOpamp2 4096 912 R0
SYMATTR InstName U4
SYMBOL res 4128 720 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 100k
SYMBOL res 3968 880 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 100k
SYMBOL res 3968 1008 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 100k
SYMBOL res 3984 1040 R0
SYMATTR InstName R14
SYMATTR Value 100k
SYMBOL Opamps\\UniversalOpamp2 4672 896 R0
SYMATTR InstName U5
SYMBOL res 4512 976 R0
SYMATTR InstName R15
SYMATTR Value 100k
SYMBOL res 4432 976 R0
SYMATTR InstName R16
SYMATTR Value 100k
SYMBOL diode 4512 864 R0
SYMATTR InstName D3
SYMATTR Value 1N914
SYMBOL diode 4608 944 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMATTR Value 1N914
SYMBOL nmos 5072 960 R0
SYMATTR InstName M2
SYMBOL res 5104 1104 R0
SYMATTR InstName R20
SYMATTR Value 100k
SYMBOL voltage 3712 880 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value 0.5
SYMBOL sw 3776 1792 R0
SYMATTR InstName S1
SYMATTR Value MYSW
SYMBOL Opamps\\UniversalOpamp2 4976 1040 R0
SYMATTR InstName U6
SYMBOL cap 4880 1040 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 500p
SYMBOL res 4880 1040 R0
SYMATTR InstName R17
SYMATTR Value 100k
SYMBOL res 5040 896 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 100k
SYMBOL res 4928 928 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R19
SYMATTR Value 100k
SYMBOL voltage 3392 2224 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V7
SYMATTR Value PULSE(0 -0.7 0.8 0.05 0.05 0.1)
TEXT 2632 320 Left 2 !.tran 0 1s 0 10us
TEXT 2648 240 Left 2 !;ac dec 10 1 1G
TEXT 3048 1920 Left 2 ;Horizontal Timing Signal
TEXT 2984 1704 Left 2 ;Horizontal X Position, Voltage Rep.
TEXT 4280 1408 Left 2 ;Horizontal Line Drawing
TEXT 3112 1176 Left 2 ;Vertical component, voltage rep. of horizontal line number.
TEXT 3312 920 Left 2 ;Vertical Y Position, Voltage Rep.
TEXT 3280 1408 Left 2 !.model MYSW SW(Ron=1 Roff=10Meg Vt=2.0)
